jQuery(function(e){function t(){this.cssClass="tileBackgroundX",this.fontColor="#A10000",this.text="x"}function n(){this.cssClass="tileBackgroundO",this.fontColor="#002BE3",this.text="o"}function o(){this.element=document.createElement("li"),this.cssClass="tileBackgroundG",this.clickFunction=d}function s(){if(window.innerWidth>590){for(var e=document.getElementsByTagName("li"),t=0;t<e.length;t++)e[t].style.width="190px",e[t].style.height="190px",e[t].style.lineHeight="180px";f.style.width="590px"}else{for(var e=document.getElementsByTagName("li"),t=0;t<e.length;t++)e[t].style.width=window.innerWidth/3.2+"px",e[t].style.height=window.innerWidth/3.2+"px",e[t].style.lineHeight=window.innerWidth/3.2-20+"px";f.style.width=window.innerWidth/3.2*3+6+"px"}}function i(){for(var e=document.getElementsByTagName("li"),t=0;t<e.length;t++)e[t].onclick=null}function c(){for(var e=document.getElementsByTagName("li"),t=0;t<e.length;t++)e[t].onclick=-1!==v.indexOf(e[t].i)||-1!==I.indexOf(e[t].i)?null:d}function l(){m(),1==N?(N=!1,k=!0,document.getElementById("status").innerText="Opponent Goes First!",i()):1==k&&(N=!0,k=!1,document.getElementById("status").innerText="You Go First!")}function m(){for(var e=document.getElementsByTagName("li"),t=new o,n=0;n<e.length;n++)e[n].innerText="",e[n].className=t.cssClass,e[n].onclick=t.clickFunction;v=[],I=[],w=1,x=0}function a(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)if(t[n].i.toString()==e.toString()){M=!1,c(),t[n].click();break}}function r(e){g.emit("positionPicked",e),c()}function d(){var e=this;if(0==M?(M=!0,c(),document.getElementById("status").innerText="Your Turn!"):(r(e.i),i(),document.getElementById("status").innerText="Opponents Turn!"),0===x){var o=new t;e.className=o.cssClass,e.style.color=o.fontColor,e.innerText=o.text,x=1,v.push(this.i)}else{var o=new n;e.className=o.cssClass,e.style.color=o.fontColor,e.innerText=o.text,x=0,I.push(this.i)}u()}function u(){for(var e=!1,t=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],n=0;n<t.length;n++){for(var o=t[n],s=0,i=0,c=0;c<o.length;c++)-1!==v.indexOf(o[c])&&s++,-1!==I.indexOf(o[c])&&i++;{document.getElementsByTagName("li")}if(3===s){e=!0,1==N?(H+=1,document.getElementById("meScore").innerHTML=H):(C+=1,document.getElementById("oScore").innerHTML=C),document.getElementById("status").innerHTML="X Won! Rematch?";{setTimeout(function(){l()},1e3)}}else if(3===i){e=!0,1==N?(H+=1,document.getElementById("meScore").innerHTML=H):(C+=1,document.getElementById("oScore").innerHTML=C),document.getElementById("status").innerHTML="O Won! Rematch?";{setTimeout(function(){l()},1e3)}}if(3===s||3===i)break}9===w&&e===!1?(L+=1,document.getElementById("catsScore").innerHTML=L,document.getElementById("status").innerHTML="Cats Game!",l()):e===!1&&w++}for(var g=io(),f=document.getElementsByClassName("board")[0],h=1;10>h;h++){var y=new o,T=y.element;T.className=y.cssClass,T.onclick=y.clickFunction,T.i=h,7>h&&(T.style.borderBottom="3px solid white"),3===h||6===h||9===h||(T.style.borderRight="3px solid white"),f.appendChild(T)}s(),window.addEventListener("resize",function(){s()});var p=function(e){document.getElementById("messagePosted").innerHTML=document.getElementById("messagePosted").innerHTML+e+"<br>",document.getElementById("messagePosted").scrollTop=document.getElementById("messagePosted").scrollHeight};g.on("questionStartYet",function(e,t){m(),i(),0==e?(document.getElementById("status").innerHTML="No Opponent Yet",document.getElementById("messagePosted").innerHTML="",document.getElementById("opponentName").innerText="Opponent"):(p("You are now facing: "+e),E=e,document.getElementById("opponentName").innerText=e,1==t?(c(),document.getElementById("status").innerText="You get to Start! Begin!",N=!0,k=!1):(document.getElementById("status").innerText="Opponent Starts!",k=!0,N=!1))});var B,E,x=0,w=1,v=[],I=[],N=0,k=0,H=0,C=0,L=0;g.on("updatePositionPicked",function(e){a(e)});var M=!0;e("#requestName").on("click",function(){g.emit("customUserNameRequested",e("#desiredUserName").val())}),g.on("customUserNameRequestedAnswer",function(t){p(E+" changed there name to: "+t),E=t,e(".opponent").val(t)}),g.on("customUserNameRequestedSucess",function(e){p("Your name is: "+e),B=e}),g.on("customUserNameRequestedTaken",function(){p("Sorry! Name Taken!")}),e("#sendMessage").on("click",function(){g.emit("messageToOpponent",e("#message").val()),p(B+": "+e("#message").val()),e("#message").val("")}),g.on("messageToOpponentReply",function(e){p(E+": "+e)})});